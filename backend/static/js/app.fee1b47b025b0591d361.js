webpackJsonp([1],{"3+M0":function(t,e,n){t.exports=n.p+"static/img/artist.f7e3815.png"},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Tqaz"),i=(n("sWs5"),n("7+uW")),s={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]},r=n("VU/8")(null,s,!1,null,null,null).exports,o=n("/ocq"),l=n("mvHQ"),c=n.n(l),d=n("BO1k"),u=n.n(d),m=n("mtWM"),v=n.n(m),p={data:function(){return{artists:[{id:0,name:"",country:"",genre:"",globalArtistForm:{name:"",country:"",genre:""},showEdit:0}],events:[{id:0,name:"",artists:[{artist:{name:"",id:1,country:"",genre:"cap"}}],city:"",place:"",date:"",price:0,total_available_tickets:0,artistForm:{name:"",country:"",genre:""},deleteForm:{name:""},showAdd:0,showDelete:0}],tickets_added:0,cartItems:[{event_name:String,event_id:0,quantity:0,price:0}],total_price:0,show:"disabled",available_money:0,addEventForm:{place:"",name:"",city:"",date:"",price:"",available_tickets:""},editEventForm:{id:"",place:"",name:"",city:"",date:"",price:"",available_tickets:""},newArtist:{name:"",country:"",genre:""},is_admin:0}},methods:{getArtists:function(){var t=this;v.a.get("http://f02-eventright.herokuapp.com/artists").then(function(e){t.artists.splice(0,t.artists.length);var n=void 0,a=!0,i=!1,s=void 0;try{for(var r,o=u()(e.data.artists);!(a=(r=o.next()).done);a=!0)n=r.value,t.artists.push({id:n.id,name:n.name,country:n.country,genre:n.genre,globalArtistForm:{name:"",country:"",genre:""},showEdit:0})}catch(t){i=!0,s=t}finally{try{!a&&o.return&&o.return()}finally{if(i)throw s}}}).catch(function(t){console.error(t)})},getEvents:function(){var t=this;v.a.get("http://f02-eventright.herokuapp.com/events").then(function(e){t.events.splice(0,t.events.length);var n=void 0,a=!0,i=!1,s=void 0;try{for(var r,o=u()(e.data.events);!(a=(r=o.next()).done);a=!0)n=r.value,t.events.push({id:n.id,name:n.name,artists:n.artists,city:n.city,place:n.place,date:n.date,price:n.price,total_available_tickets:n.total_available_tickets,artistForm:{name:"",country:"",genre:""},deleteForm:{name:""},showAdd:0,showDelete:0})}catch(t){i=!0,s=t}finally{try{!a&&o.return&&o.return()}finally{if(i)throw s}}}).catch(function(t){console.error(t)})},addToCart:function(t){this.cartItems.push({event_name:t.name,event_id:t.id,quantity:1,price:t.price}),console.log(t.name),this.total_price+=t.price,console.log(this.cartItems.length),this.tickets_added++},plusCart:function(t){console.log("plus"),t.quantity+=1,this.total_price+=t.price,this.tickets_added++},minusCart:function(t){console.log("minus"),t.quantity-=1,this.total_price-=t.price,0===t.quantity&&this.cartItems.splice(this.cartItems.indexOf(t),1),this.tickets_added--,console.log(this.cartItems)},deleteCart:function(t){this.cartItems.splice(this.cartItems.indexOf(t),1),this.tickets_added-=t.quantity},addPuchrase:function(t){var e=this,n="http://f02-eventright.herokuapp.com/orders/"+this.username;console.log("addPucharse username "+this.username),console.log("addPucharse token "+this.token),v.a.post(n,t,{auth:{username:this.token}}).then(function(){console.log("Order done"),e.getEvents(),e.getAvailableMoney(),alert("Order Done")}).catch(function(t){console.log(t)})},finalizePucharse:function(){for(var t=0;t<this.cartItems.length;t++){var e={event_id:this.cartItems[t].event_id,tickets_bought:this.cartItems[t].quantity};console.log(e),this.addPuchrase(e)}this.cartItems.splice(0,this.cartItems.length),this.getTotalTickets()},viewEvents:function(){document.getElementById("carts").style.display="none",document.getElementById("addEvent").style.display="none",document.getElementById("editEvent").style.display="none",document.getElementById("events").style.display="block",document.getElementById("artists").style.display="none",document.getElementById("newArtist").style.display="none"},viewCart:function(){document.getElementById("events").style.display="none",document.getElementById("addEvent").style.display="none",document.getElementById("editEvent").style.display="none",document.getElementById("carts").style.display="block",document.getElementById("artists").style.display="none",document.getElementById("newArtist").style.display="none"},viewAddEvent:function(){document.getElementById("events").style.display="none",document.getElementById("carts").style.display="none",document.getElementById("editEvent").style.display="none",document.getElementById("addEvent").style.display="block",document.getElementById("artists").style.display="none",document.getElementById("newArtist").style.display="none"},viewAddNewArtist:function(){document.getElementById("events").style.display="none",document.getElementById("carts").style.display="none",document.getElementById("editEvent").style.display="none",document.getElementById("addEvent").style.display="none",document.getElementById("artists").style.display="block",document.getElementById("artistCatalog").style.display="none",document.getElementById("newArtist").style.display="block"},viewArtist:function(){document.getElementById("events").style.display="none",document.getElementById("carts").style.display="none",document.getElementById("editEvent").style.display="none",document.getElementById("addEvent").style.display="none",document.getElementById("newArtist").style.display="none",document.getElementById("artistCatalog").style.display="block",document.getElementById("artists").style.display="block"},viewEditEvent:function(t){document.getElementById("events").style.display="none",document.getElementById("carts").style.display="none",document.getElementById("addEvent").style.display="none",document.getElementById("editEvent").style.display="block",document.getElementById("newArtist").style.display="none",document.getElementById("artists").style.display="none",this.editEventForm.id=t.id},logIn:function(){this.$router.replace({path:"/userlogin"})},logOut:function(){this.user="",this.token="",this.logged=!1,this.is_admin=0,this.$router.replace({path:"/",query:{logged:this.logged}})},onSubmit:function(){var t={name:this.addEventForm.name,place:this.addEventForm.place,city:this.addEventForm.city,date:this.addEventForm.date,price:this.addEventForm.price,available_tickets:this.addEventForm.available_tickets};console.log(t),this.addEvent(t),this.initEventForm(),this.getEvents()},openAddArtist:function(t){t.showAdd=1,t.showDelete=0},closeAdminArtist:function(t){t.showAdd=0,t.showDelete=0},initArtistForm:function(t){t.artistForm={name:"",country:"",genre:""}},submitArtist:function(t){var e={name:t.artistForm.name,country:t.artistForm.country,genre:t.artistForm.genre};this.addArtistInEvent(t,e)},addArtistInEvent:function(t,e){var n=this,a="http://f02-eventright.herokuapp.com/event/"+t.id+"/artist";v.a.post(a,e,{auth:{username:this.token}}).then(function(t){console.log("AddArtist success"),n.getEvents(),n.getArtists(),alert("Success")}).catch(function(t){console.error(t),console.log("AddArtist failure"),alert("Failure")})},initDeleteForm:function(t){t.deleteForm={name:"",id:""}},openDeleteArtist:function(t){t.showAdd=0,t.showDelete=1},submitDeleteArtist:function(t){var e="default",n=void 0,a=!0,i=!1,s=void 0;try{for(var r,o=u()(t.artists);!(a=(r=o.next()).done);a=!0)(n=r.value).name===t.deleteForm.name&&(e=n.id)}catch(t){i=!0,s=t}finally{try{!a&&o.return&&o.return()}finally{if(i)throw s}}if("default"!==e){var l={name:t.deleteForm.name,id:e};this.deleteArtist(t,l)}else alert("This artist is not in this event");this.initDeleteForm(t)},deleteArtist:function(t,e){var n=this,a="http://f02-eventright.herokuapp.com/event/"+t.id+"/artist/"+e.id;v.a.delete(a,{auth:{username:this.token}}).then(function(t){console.log("DeleteArtist success"),n.getEvents(),alert("DeleteArtist Success")}).catch(function(t){console.error(t),console.log("DeleteArtist failure"),alert("DeleteArtist Failure")})},addEvent:function(t){var e=this;v.a.post("http://f02-eventright.herokuapp.com/event",t,{auth:{username:this.token}}).then(function(t){console.log("AddEvent success"),e.getEvents()}).catch(function(t){console.error(t),console.log("AddEvent failure")})},onSubmitUpdate:function(){var t={name:this.editEventForm.name,place:this.editEventForm.place,city:this.editEventForm.city,date:this.editEventForm.date,price:this.editEventForm.price,available_tickets:this.editEventForm.available_tickets};this.updateEvent(t),this.initEventForm()},deleteEvent:function(t){var e=this,n="http://f02-eventright.herokuapp.com/event/"+t.id;v.a.delete(n,{auth:{username:this.token}}).then(function(t){console.log("deleteEvent success"),e.getEvents()}).catch(function(t){console.error(t),console.log("deleteEvent failure")})},updateEvent:function(t){var e=this,n="http://f02-eventright.herokuapp.com/event/"+this.editEventForm.id;v.a.put(n,t,{auth:{username:this.token}}).then(function(t){console.log("EditEvent success"),alert("EditEvent success"),e.getEvents()}).catch(function(t){console.error(t),console.log("EditEvent failure"),alert("EditEvent failure")})},initEventForm:function(){this.addEventForm.name="",this.addEventForm.place="",this.addEventForm.city="",this.addEventForm.date="",this.addEventForm.price="",this.addEventForm.available_tickets="",this.editEventForm.id="",this.editEventForm.name="",this.editEventForm.place="",this.editEventForm.city="",this.editEventForm.date="",this.editEventForm.price="",this.editEventForm.available_tickets=""},initGlobalArtistForm:function(t){t.globalArtistForm.name="",t.globalArtistForm.country="",t.globalArtistForm.genre=""},deleteGlobalArtist:function(t){var e=this,n="http://f02-eventright.herokuapp.com/artist/"+t.id;v.a.delete(n,{auth:{username:this.token}}).then(function(t){console.log("global delete artist success"),e.getArtists(),e.getEvents()}).catch(function(t){console.error(t),console.log("global delete artist failure")})},closeAdminGlobalArtist:function(t){t.showEdit=0},openEditArtist:function(t){t.showEdit=1},submitEditNewArtist:function(t){var e={name:t.globalArtistForm.name,country:t.globalArtistForm.country,genre:t.globalArtistForm.genre};this.editGlobalArtist(t,e),this.initGlobalArtistForm(t)},editGlobalArtist:function(t,e){var n=this,a="http://f02-eventright.herokuapp.com/artist/"+t.id;v.a.put(a,e,{auth:{username:this.token}}).then(function(t){console.log("editGlobalArtist success"),n.getArtists()}).catch(function(t){console.error(t),console.log("editGlobalArtist failure")})},submitNewGlobalArtist:function(){var t={name:this.newArtist.name,country:this.newArtist.country,genre:this.newArtist.genre};this.newGlobalArtist(t),this.initNewArtistForm()},newGlobalArtist:function(t){var e=this;v.a.post("http://f02-eventright.herokuapp.com/artist",t,{auth:{username:this.token}}).then(function(t){console.log("AddArtist success"),e.getArtists()}).catch(function(t){console.error(t),console.log("AddArtist failure")})},initNewArtistForm:function(){this.newArtist.name="",this.newArtist.country="",this.newArtist.genre=""},getAvailableMoney:function(){var t=this;if(void 0!==this.username){var e="http://f02-eventright.herokuapp.com/account/"+this.username;v.a.get(e).then(function(e){t.available_money=e.data.account.available_money}).catch(function(e){console.error(e),t.user="",console.log("available money error")})}},getTotalTickets:function(){this.tickets_added=0;var t=void 0,e=!0,n=!1,a=void 0;try{for(var i,s=u()(this.cartItems);!(e=(i=s.next()).done);e=!0)t=i.value,this.tickets_added+=t.quantity}catch(t){n=!0,a=t}finally{try{!e&&s.return&&s.return()}finally{if(n)throw a}}}},created:function(){console.log("CREATED: "+c()(this.events)),this.getEvents(),this.getArtists(),this.cartItems=[],this.logged=this.$route.query.logged,this.username=this.$route.query.username,this.is_admin=this.$route.query.is_admin,this.token=this.$route.query.token,this.getAvailableMoney()}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"events"}},[t.is_admin?t._e():a("button",{staticClass:"btn-primary",attrs:{type:"button",name:"button"},on:{click:function(e){return t.viewCart()}}},[t._v("\n          VIEW CART\n    ")]),t._v(" "),a("button",{staticClass:"btn-primary",attrs:{type:"button",name:"button"},on:{click:function(e){return t.logIn()}}},[t._v("\n          LOG IN\n    ")]),t._v(" "),a("button",{staticClass:"btn-primary",attrs:{type:"button",name:"button"},on:{click:function(e){return t.logOut()}}},[t._v("\n          LOG OUT\n    ")]),t._v(" "),t.is_admin?a("button",{staticClass:"btn-primary",attrs:{id:"addEventBtn",type:"button",name:"button"},on:{click:function(e){return t.viewAddEvent()}}},[t._v("\n          ADD EVENT\n    ")]):t._e(),t._v(" "),t.is_admin?a("button",{staticClass:"btn-primary",attrs:{id:"addNewArtistBtn",type:"button",name:"button"},on:{click:function(e){return t.viewArtist()}}},[t._v("\n          GO TO ARTIST\n    ")]):t._e(),t._v(" "),a("h1",[t._v("EVENTS")]),t._v(" "),a("h2",[t._v("AVAILABLE MONEY: "+t._s(this.available_money)+" ")]),t._v(" "),a("h2",[t._v("TOTAL TICKETS : "+t._s(this.tickets_added))]),t._v(" "),a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},t._l(t.events,function(e){return a("div",{key:e.id},[a("div",{staticClass:"card ml-3 mt-3 mb-3 mr-3",staticStyle:{width:"20rem"},attrs:{id:"eventCard"}},[a("img",{staticClass:"card-img-top",attrs:{src:n("keDq"),alt:"Card image cap"}}),t._v(" "),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v(t._s(e.name))]),t._v(" "),a("h6",{staticClass:"card-subtitle"},[t._v(" Invited artists :")]),t._v(" "),t._l(e.artists,function(e){return a("h6",{key:e.id,staticClass:"card-subtitle"},[t._v(t._s(e.name)+", ")])}),t._v(" "),a("p",{staticClass:"card-text"},[t._v("City : "+t._s(e.city))]),t._v(" "),a("p",{staticClass:"card-text"},[t._v("Address : "+t._s(e.place))]),t._v(" "),a("p",{staticClass:"card-text"},[t._v("Date : "+t._s(e.date))]),t._v(" "),a("p",{staticClass:"card-text"},[t._v("Price : "+t._s(e.price)+"$")]),t._v(" "),a("p",{staticClass:"card-text"},[t._v("Tickets available : "+t._s(e.total_available_tickets))]),t._v(" "),t.is_admin?t._e():a("a",{staticClass:"btn btn-primary",attrs:{href:"#"},on:{click:function(n){return t.addToCart(e)}}},[t._v("Add to cart")]),t._v(" "),t.is_admin?a("button",{staticClass:"btn-success",attrs:{id:"submitArtist",type:"button",name:"button"},on:{click:function(n){return t.openAddArtist(e)}}},[t._v("\n                    Add Artist to Event\n              ")]):t._e(),t._v(" "),t.is_admin?a("button",{staticClass:"btn-secondary",attrs:{id:"submitDeleteArtist",type:"button",name:"button"},on:{click:function(n){return t.openDeleteArtist(e)}}},[t._v("\n                    Delete Artist in Event\n              ")]):t._e(),t._v(" "),t.is_admin?a("button",{staticClass:"btn-primary",attrs:{id:"editEventBtn",type:"button",name:"button"},on:{click:function(n){return t.viewEditEvent(e)}}},[t._v("\n                    EDIT EVENT\n              ")]):t._e(),t._v(" "),t.is_admin?a("button",{staticClass:"btn-danger",attrs:{id:"submitDeleteEvent",type:"button",name:"button"},on:{click:function(n){return t.deleteEvent(e)}}},[t._v("\n                    Delete Event\n              ")]):t._e()],2),t._v(" "),e.showAdd?a("div",{attrs:{id:"addArtist"}},[a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"artistName"}},[t._v("Name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.artistForm.name,expression:"e.artistForm.name"}],staticClass:"form-control",attrs:{type:"e.artistForm.name",id:"artistName",placeholder:"Name",required:"",autofocus:""},domProps:{value:e.artistForm.name},on:{input:function(n){n.target.composing||t.$set(e.artistForm,"name",n.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"artistCountry"}},[t._v("Country")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.artistForm.country,expression:"e.artistForm.country"}],staticClass:"form-control",attrs:{type:"e.artistForm.country",id:"artistCountry",placeholder:"Country",required:"",autofocus:""},domProps:{value:e.artistForm.country},on:{input:function(n){n.target.composing||t.$set(e.artistForm,"country",n.target.value)}}})]),a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"artistGenre"}},[t._v("Genre")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.artistForm.genre,expression:"e.artistForm.genre"}],staticClass:"form-control",attrs:{type:"e.artistForm.genre",id:"artistGenre",placeholder:"Genre",required:"",autofocus:""},domProps:{value:e.artistForm.genre},on:{input:function(n){n.target.composing||t.$set(e.artistForm,"genre",n.target.value)}}})]),t._v(" "),a("button",{staticClass:"btn btn-primary",on:{click:function(n){return t.submitArtist(e)}}},[t._v("Submit")]),t._v(" "),a("button",{staticClass:"btn btn-danger",on:{click:function(n){return t.initArtistForm(e)}}},[t._v("Reset")]),t._v(" "),a("button",{staticClass:"btn btn-secondary",on:{click:function(n){return t.closeAdminArtist(e)}}},[t._v("Cancel")])]):t._e(),t._v(" "),e.showDelete?a("div",{attrs:{id:"deleteArtist"}},[a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"deleteName"}},[t._v("Name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.deleteForm.name,expression:"e.deleteForm.name"}],staticClass:"form-control",attrs:{type:"e.deleteForm.name",id:"deleteName",placeholder:"Name",required:"",autofocus:""},domProps:{value:e.deleteForm.name},on:{input:function(n){n.target.composing||t.$set(e.deleteForm,"name",n.target.value)}}})]),t._v(" "),a("button",{staticClass:"btn btn-primary",on:{click:function(n){return t.submitDeleteArtist(e)}}},[t._v("Submit")]),t._v(" "),a("button",{staticClass:"btn btn-danger",on:{click:function(n){return t.initDeleteForm(e)}}},[t._v("Reset")]),t._v(" "),a("button",{staticClass:"btn btn-secondary",on:{click:function(n){return t.closeAdminArtist(e)}}},[t._v("Cancel")])]):t._e()])])}),0)])]),t._v(" "),a("div",{staticStyle:{display:"none"},attrs:{id:"carts"}},[a("button",{staticClass:"btn-primary",attrs:{type:"button",name:"button"},on:{click:function(e){return t.viewEvents()}}},[t._v("\n            VIEW EVENTS\n    ")]),t._v(" "),a("h1",[t._v("CART")]),t._v(" "),a("link",{attrs:{rel:"stylesheet",type:"text/css",href:"/static/cart.css"}}),t._v(" "),a("div",{staticClass:"shopping-cart"},[a("div",{staticClass:"title"},[t._v("\n        Shopping Bag | Total price : "+t._s(this.total_price)+" $\n        "),a("button",{attrs:{type:"button",name:"button",disabled:0==t.cartItems.length},on:{click:function(e){return t.finalizePucharse()}}},[t._v("\n            Finalize pucharse\n        ")])]),t._v(" "),t._l(t.cartItems,function(e){return a("div",{key:e.name,staticClass:"item"},[a("div",{staticClass:"buttons"},[a("span",{staticClass:"delete-btn",on:{click:function(n){return t.deleteCart(e)}}},[t._v("X")])]),t._v(" "),a("div",{staticClass:"image"},[a("img",{staticClass:"card-img-top",attrs:{src:n("3+M0"),alt:"Card image cap",width:"50",height:"50"}}),t._v("\n          "+t._s(e.event_name)+"\n        ")]),t._v(" "),a("div",{staticClass:"quantity"},[a("button",{staticClass:"plus-btn",attrs:{type:"button",name:"button"},on:{click:function(n){return t.plusCart(e)}}},[t._v("\n            +\n          ")]),t._v(" "),a("span",[t._v(" "+t._s(e.quantity)+" ")]),t._v(" "),a("button",{staticClass:"minus-btn",attrs:{type:"button",name:"button"},on:{click:function(n){return t.minusCart(e)}}},[t._v("\n            -\n          ")])]),t._v(" "),a("div",{staticClass:"total-price"},[t._v(" $"+t._s(e.price)+" ")])])})],2)]),t._v(" "),a("div",{staticStyle:{display:"none"},attrs:{id:"addEvent"}},[a("h1",[t._v(" SIGN UP ")]),t._v(" "),a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"eventName"}},[t._v("Name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.addEventForm.name,expression:"addEventForm.name"}],staticClass:"form-control",attrs:{type:"addEventForm.name",id:"eventName",placeholder:"Name",required:"",autofocus:""},domProps:{value:t.addEventForm.name},on:{input:function(e){e.target.composing||t.$set(t.addEventForm,"name",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"eventPlace"}},[t._v("Place")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.addEventForm.place,expression:"addEventForm.place"}],staticClass:"form-control",attrs:{type:"addEventForm.place",id:"eventPlace",placeholder:"Place",required:"",autofocus:""},domProps:{value:t.addEventForm.place},on:{input:function(e){e.target.composing||t.$set(t.addEventForm,"place",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"eventCity"}},[t._v("City")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.addEventForm.city,expression:"addEventForm.city"}],staticClass:"form-control",attrs:{type:"addEventForm.city",id:"eventCity",placeholder:"City",required:"",autofocus:""},domProps:{value:t.addEventForm.city},on:{input:function(e){e.target.composing||t.$set(t.addEventForm,"city",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"eventDate"}},[t._v("Date")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.addEventForm.date,expression:"addEventForm.date"}],staticClass:"form-control",attrs:{type:"addEventForm.date",id:"eventDate",placeholder:"Date",required:"",autofocus:""},domProps:{value:t.addEventForm.date},on:{input:function(e){e.target.composing||t.$set(t.addEventForm,"date",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"eventPrice"}},[t._v("Price")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.addEventForm.price,expression:"addEventForm.price"}],staticClass:"form-control",attrs:{type:"addEventForm.price",id:"eventPrice",placeholder:"Price",required:"",autofocus:""},domProps:{value:t.addEventForm.price},on:{input:function(e){e.target.composing||t.$set(t.addEventForm,"price",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"eventTickets"}},[t._v("Total available tickets")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.addEventForm.available_tickets,expression:"addEventForm.available_tickets"}],staticClass:"form-control",attrs:{type:"addEventForm.available_tickets",id:"eventTickets",placeholder:"Total available tickets",required:"",autofocus:""},domProps:{value:t.addEventForm.available_tickets},on:{input:function(e){e.target.composing||t.$set(t.addEventForm,"available_tickets",e.target.value)}}})]),t._v(" "),a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.onSubmit()}}},[t._v("Submit")]),t._v(" "),a("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.initEventForm(t.addEventForm)}}},[t._v("Reset")]),t._v(" "),a("button",{staticClass:"btn btn-secondary",on:{click:function(e){return t.viewEvents()}}},[t._v("Cancel")])]),t._v(" "),a("div",{staticStyle:{display:"none"},attrs:{id:"editEvent"}},[a("h1",[t._v(" SIGN UP ")]),t._v(" "),a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"editEventName"}},[t._v("Name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editEventForm.name,expression:"editEventForm.name"}],staticClass:"form-control",attrs:{type:"editEventForm.name",id:"editEventName",placeholder:"Name",required:"",autofocus:""},domProps:{value:t.editEventForm.name},on:{input:function(e){e.target.composing||t.$set(t.editEventForm,"name",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"editEventPlace"}},[t._v("Place")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editEventForm.place,expression:"editEventForm.place"}],staticClass:"form-control",attrs:{type:"editEventForm.place",id:"editEventPlace",placeholder:"Place",required:"",autofocus:""},domProps:{value:t.editEventForm.place},on:{input:function(e){e.target.composing||t.$set(t.editEventForm,"place",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"editEventCity"}},[t._v("City")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editEventForm.city,expression:"editEventForm.city"}],staticClass:"form-control",attrs:{type:"editEventForm.city",id:"editEventCity",placeholder:"City",required:"",autofocus:""},domProps:{value:t.editEventForm.city},on:{input:function(e){e.target.composing||t.$set(t.editEventForm,"city",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"editEventDate"}},[t._v("Date")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editEventForm.date,expression:"editEventForm.date"}],staticClass:"form-control",attrs:{type:"editEventForm.date",id:"editEventDate",placeholder:"Date",required:"",autofocus:""},domProps:{value:t.editEventForm.date},on:{input:function(e){e.target.composing||t.$set(t.editEventForm,"date",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"editEventPrice"}},[t._v("Price")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editEventForm.price,expression:"editEventForm.price"}],staticClass:"form-control",attrs:{type:"editEventForm.price",id:"editEventPrice",placeholder:"Price",required:"",autofocus:""},domProps:{value:t.editEventForm.price},on:{input:function(e){e.target.composing||t.$set(t.editEventForm,"price",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"editEventTickets"}},[t._v("Total available tickets")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editEventForm.available_tickets,expression:"editEventForm.available_tickets"}],staticClass:"form-control",attrs:{type:"editEventForm.available_tickets",id:"editEventTickets",placeholder:"Total available tickets",required:"",autofocus:""},domProps:{value:t.editEventForm.available_tickets},on:{input:function(e){e.target.composing||t.$set(t.editEventForm,"available_tickets",e.target.value)}}})]),t._v(" "),a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.onSubmitUpdate()}}},[t._v("Submit")]),t._v(" "),a("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.initEventForm(t.editEventForm)}}},[t._v("Reset")]),t._v(" "),a("button",{staticClass:"btn btn-secondary",on:{click:function(e){return t.viewEvents()}}},[t._v("Cancel")])]),t._v(" "),a("div",{staticStyle:{display:"none"},attrs:{id:"artists"}},[a("div",{attrs:{id:"artistCatalog"}},[a("button",{staticClass:"btn-primary",attrs:{id:"goToEvents",type:"button",name:"button"},on:{click:function(e){return t.viewEvents()}}},[t._v("\n            GO TO EVENTS\n      ")]),t._v(" "),a("button",{staticClass:"btn-primary",attrs:{id:"editNewArtistBtn",type:"button",name:"button"},on:{click:function(e){return t.viewAddNewArtist()}}},[t._v("\n            NEW ARTIST\n      ")]),t._v(" "),a("div",{staticClass:"container-fluid d-flex flex-wrap pt-2 pb-3"},[a("div",{staticClass:"row"},t._l(t.artists,function(e){return a("div",{key:e.id},[a("div",{staticClass:"card ml-3 mt-3 mb-3 mr-3",staticStyle:{width:"20rem"},attrs:{id:"aCard"}},[a("img",{staticClass:"card-img-top",attrs:{src:n("3+M0"),alt:"Card image cap"}}),t._v(" "),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v(t._s(e.name))]),t._v(" "),a("p",{staticClass:"card-text"},[t._v("Country : "+t._s(e.country))]),t._v(" "),a("p",{staticClass:"card-text"},[t._v("Genre : "+t._s(e.genre))]),t._v(" "),a("button",{staticClass:"btn-success",attrs:{id:"openEditArtist",type:"button",name:"button"},on:{click:function(n){return t.openEditArtist(e)}}},[t._v("\n                      Edit artist\n                ")]),t._v(" "),a("button",{staticClass:"btn-danger",attrs:{id:"deleteGlobalArtist",type:"button",name:"button"},on:{click:function(n){return t.deleteGlobalArtist(e)}}},[t._v("\n                      Delete artist\n                ")])]),t._v(" "),e.showEdit?a("div",{attrs:{id:"editArtist"}},[a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"editArtistName"}},[t._v("Name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.globalArtistForm.name,expression:"a.globalArtistForm.name"}],staticClass:"form-control",attrs:{type:"e.artistForm.name",id:"editArtistName",placeholder:"Name",required:"",autofocus:""},domProps:{value:e.globalArtistForm.name},on:{input:function(n){n.target.composing||t.$set(e.globalArtistForm,"name",n.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"editArtistCountry"}},[t._v("Country")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.globalArtistForm.country,expression:"a.globalArtistForm.country"}],staticClass:"form-control",attrs:{type:"e.artistForm.country",id:"editArtistCountry",placeholder:"Country",required:"",autofocus:""},domProps:{value:e.globalArtistForm.country},on:{input:function(n){n.target.composing||t.$set(e.globalArtistForm,"country",n.target.value)}}})]),a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"editArtistGenre"}},[t._v("Genre")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.globalArtistForm.genre,expression:"a.globalArtistForm.genre"}],staticClass:"form-control",attrs:{type:"e.artistForm.genre",id:"editArtistGenre",placeholder:"Genre",required:"",autofocus:""},domProps:{value:e.globalArtistForm.genre},on:{input:function(n){n.target.composing||t.$set(e.globalArtistForm,"genre",n.target.value)}}})]),t._v(" "),a("button",{staticClass:"btn btn-primary",on:{click:function(n){return t.submitEditNewArtist(e)}}},[t._v("Submit")]),t._v(" "),a("button",{staticClass:"btn btn-danger",on:{click:function(n){return t.initGlobalArtistForm(e)}}},[t._v("Reset")]),t._v(" "),a("button",{staticClass:"btn btn-secondary",on:{click:function(n){return t.closeAdminGlobalArtist(e)}}},[t._v("Cancel")])]):t._e()])])}),0)])]),t._v(" "),a("div",{staticStyle:{display:"block"},attrs:{id:"newArtist"}},[a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"newArtistName"}},[t._v("Name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newArtist.name,expression:"newArtist.name"}],staticClass:"form-control",attrs:{type:"newArtist.name",id:"newArtistName",placeholder:"Name",required:"",autofocus:""},domProps:{value:t.newArtist.name},on:{input:function(e){e.target.composing||t.$set(t.newArtist,"name",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"newArtistCountry"}},[t._v("Country")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newArtist.country,expression:"newArtist.country"}],staticClass:"form-control",attrs:{type:"newArtist.country",id:"newArtistCountry",placeholder:"Country",required:"",autofocus:""},domProps:{value:t.newArtist.country},on:{input:function(e){e.target.composing||t.$set(t.newArtist,"country",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-label-group"},[a("label",{attrs:{for:"newArtistGenre"}},[t._v("Genre")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newArtist.genre,expression:"newArtist.genre"}],staticClass:"form-control",attrs:{type:"newArtist.genre",id:"newArtistGenre",placeholder:"Genre",required:"",autofocus:""},domProps:{value:t.newArtist.genre},on:{input:function(e){e.target.composing||t.$set(t.newArtist,"genre",e.target.value)}}})]),t._v(" "),a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.submitNewGlobalArtist()}}},[t._v("Submit")]),t._v(" "),a("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.initNewArtistForm()}}},[t._v("Reset")]),t._v(" "),a("button",{staticClass:"btn btn-secondary",on:{click:function(e){return t.viewArtist()}}},[t._v("Cancel")])])])])},staticRenderFns:[]},y=n("VU/8")(p,g,!1,null,null,null).exports,f={data:function(){return{username:"",password:"",addUserForm:{username:"",password:""},fromLogin:0}},methods:{checkLogin:function(){var t=this,e={username:this.username,password:this.password};v.a.post("http://f02-eventright.herokuapp.com/login",e).then(function(n){t.logged=!0,t.token=n.data.token,t.find_match=!0,t.getAccount(),console.log(n.data),t.fromLogin=1,alert("Successful log in! Welcome back "+e.username)}).catch(function(e){console.error(e),t.user="",alert("Username or Password incorrect")})},getAccount:function(){var t=this,e="http://f02-eventright.herokuapp.com/account/"+this.username;v.a.get(e).then(function(e){t.is_admin=e.data.account.is_admin}).catch(function(e){console.error(e),t.user="",alert("Role error")})},viewLogin:function(){document.getElementById("login").style.display="block",document.getElementById("signup").style.display="none"},viewSignup:function(){document.getElementById("login").style.display="none",document.getElementById("signup").style.display="block"},backToEvents:function(){1===this.fromLogin?this.$router.replace({path:"/",query:{username:this.username,logged:this.logged,token:this.token,is_admin:this.is_admin}}):(this.logged=!1,this.$router.replace({path:"/",query:{logged:this.logged}}))},initForm:function(){this.addUserForm.username="",this.addUserForm.password=""},checkSignup:function(){var t=this,e={username:this.addUserForm.username,password:this.addUserForm.password},n="http://f02-eventright.herokuapp.com/account/"+e.username;v.a.post(n,e).then(function(e){alert("Successful sign up! Welcome abroad "+t.username),t.fromLogin=0,t.viewLogin()}).catch(function(e){console.error(e),t.user="",alert("Username already exists")})}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{attrs:{id:"login"}},[n("h1",[t._v(" LOGIN ")]),t._v(" "),n("div",{staticClass:"form-label-group"},[n("label",{attrs:{for:"inputUsername"}},[t._v("Username")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"username",id:"inputUsername",placeholder:"Username",required:"",autofocus:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-label-group"},[n("br"),t._v(" "),n("label",{attrs:{for:"inputPassword"}},[t._v("Password")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),n("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.checkLogin()}}},[t._v("Sign in")]),t._v(" "),n("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.viewSignup()}}},[t._v("Create Account")]),t._v(" "),n("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.backToEvents()}}},[t._v("Back to events")])]),t._v(" "),n("div",{staticStyle:{display:"none"},attrs:{id:"signup"}},[n("h1",[t._v(" SIGN UP ")]),t._v(" "),n("div",{staticClass:"form-label-group"},[n("label",{attrs:{for:"signupUsername"}},[t._v("Username")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.addUserForm.username,expression:"addUserForm.username"}],staticClass:"form-control",attrs:{type:"addUserForm.username",id:"signupUsername",placeholder:"Username",required:"",autofocus:""},domProps:{value:t.addUserForm.username},on:{input:function(e){e.target.composing||t.$set(t.addUserForm,"username",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-label-group"},[n("br"),t._v(" "),n("label",{attrs:{for:"signupPassword"}},[t._v("Password")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.addUserForm.password,expression:"addUserForm.password"}],staticClass:"form-control",attrs:{type:"password",id:"signupPassword",placeholder:"Password",required:""},domProps:{value:t.addUserForm.password},on:{input:function(e){e.target.composing||t.$set(t.addUserForm,"password",e.target.value)}}})]),t._v(" "),n("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.checkSignup()}}},[t._v("Submit")]),t._v(" "),n("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.initForm()}}},[t._v("Reset")]),t._v(" "),n("button",{staticClass:"btn btn-secondary",on:{click:function(e){return t.viewLogin()}}},[t._v("Cancel")])])])},staticRenderFns:[]};var b=n("VU/8")(f,h,!1,function(t){n("mdQB")},"data-v-1feda783",null).exports;i.default.use(o.a);var _=new o.a({mode:"history",base:Object({NODE_ENV:"production"}).BASE_URL,routes:[{path:"/",name:"Events",component:y},{path:"/userlogin",name:"Login",component:b}]});i.default.use(a.a),i.default.config.prodctionTip=!1,new i.default({router:_,render:function(t){return t(r)}}).$mount("#app")},keDq:function(t,e,n){t.exports=n.p+"static/img/event.cb44ee0.png"},mdQB:function(t,e){},sWs5:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.fee1b47b025b0591d361.js.map